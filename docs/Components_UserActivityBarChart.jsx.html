<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Components/UserActivityBarChart.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Components/UserActivityBarChart.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import PropTypes from 'prop-types';
import { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend } from 'recharts';

import BarChartCustomTooltip from "./BarChart/BarChartCustomTooltip.jsx";

/**
 * return html code with user's activity chart
 * used in MainComponent.jsx
 * tmp comment : help on recharts : https://www.geeksforgeeks.org/create-a-radar-chart-using-recharts-in-reactjs/ &amp; https://recharts.org/en-US/api/BarChart
 * * tmp comment : source to comment : https://buzut.net/bien-commenter-son-code/
 * @param { array.&lt;Object> } props.datasActivity
 * @param { array.&lt;{ date: String, kilogram: Number, calories: Number }> } props.datasActivity
 * @param { String } props.datasActivity.day
 * @param { Number  } props.datasActivity.kilogram
 * @param { Number  } props.datasActivity.calories
 * @return { HTMLElement }
 *  datasActivity is an object array who contain for example :
 *  0: Object { day: "2022-07-01", kilogram: 8, calories: 240 }    ​
 *  1: Object { day: "2022-07-02", kilogram: 80, calories: 220 }
*/
 
export default function UserActivityBarChart(props) {
    const sessions = props.datasActivity;

    for (let x = 0; x &lt; sessions.length; x++) sessions[x].day = x+1; // replace date in day by num like figma

    //console.log(sessions)      
    let arrayKilo = sessions.map(el => el.kilogram);
    let arrayCalories = sessions.map(el => el.calories);
    let minKilo = 0; 
    let maxKilo = Math.max(...arrayKilo); // opérateur de décomposition (spread opérator) because  Math.min waiting for a suit of number in argument (ex : 1 ,8, 0)
    let minCalories = 0 //Math.min(...arrayCalories);
    let maxCalories = Math.max(...arrayCalories) ;

  // console.log(`maxCalories: ${maxCalories}`)


    return &lt;article className="user-page__graph__left__activity-chart">
        &lt;h2 className="user-page__graph__left__activity-chart__title">Activité quotidienne&lt;/h2>
        &lt;ResponsiveContainer width="100%" height="100%">
            &lt;BarChart
              data={sessions}
              margin={{
                top: 100,
                left: 20,
                bottom: 20,
              }}
              barGap={10}
              barSize={10}
              width={850} height={250}
            > {/*  width &amp; heigh : no effect when ResponsiveContaineru sed */ }

                &lt;CartesianGrid strokeDasharray="3 3" vertical={false} /> {/* strokeDasharray  pattern of dashes and gaps used to paint the lines of the grid = lignes du fond dans graph */ }

                &lt;XAxis
                dataKey="day"
                tickLine={false} 
                tick={{ fontSize: 12, strokeWidth: 0.5, stroke: '#C4C4C4' }}
                dy={15}
                />{/* tickLine = marqueur juste on top of the tick (tick = caption) */ }

                &lt;YAxis
                yAxisId="kiloBar"
                orientation="right"
                interval="number"
                allowDecimals={false}
                tickLine={false}
                axisLine={false}
                hide={false}
                tick={{ fontSize: 12, strokeWidth: 0.5, stroke: '#C4C4C4' }}
                domain={[minKilo, maxKilo]}
                />
                &lt;YAxis
                yAxisId="calBar"
                hide={true}
                domain={[minCalories, maxCalories]}
                /> {/* hide={true} becaus figma no show this info */ }

                &lt;Tooltip
                cursor={{ fill: "#dfdfdf" }}
                content={&lt;BarChartCustomTooltip />}
                />   {/* fill : fond de la zone */} 
    
                &lt;Legend verticalAlign="top" height={36} align="right" iconType="circle"
                /> {/** could be perosnalised, see https://recharts.org/en-US/api/Legend */} 

                &lt;Bar
                    name="Poids (Kg)"
                    yAxisId="kiloBar"
                    dataKey="kilogram"
                    radius={[50, 50, 0, 0]}
                    fill="#000"
                />
                &lt;Bar
                    name="Calories brûlées (Kcal)"
                    yAxisId="calBar"
                    dataKey="calories"
                    fill="#E60000"
                    radius={[50, 50, 0, 0]}
                />
          &lt;/BarChart>
        &lt;/ResponsiveContainer>
      &lt;/article>
}

UserActivityBarChart.propTypes = {
    datasActivity: PropTypes.array
};

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#GetUserActivity">GetUserActivity</a></li><li><a href="global.html#GetUserAverageSessions">GetUserAverageSessions</a></li><li><a href="global.html#GetUserMainDatas">GetUserMainDatas</a></li><li><a href="global.html#GetUserPerformance">GetUserPerformance</a></li><li><a href="global.html#keyData">keyData</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Mon Nov 29 2021 22:06:19 GMT+0100 (heure normale d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
